{"version":3,"sources":["pages/home/Home.js"],"names":["Home","history","useHistory","useEffect","token","JSON","parse","localStorage","getItem","axios","post","then","res","data","userId","push","LOGIN","catch","err","className","src","HAPPY","alt","onClick","removeItem"],"mappings":"wHAAA,kFA+CeA,UAnCF,WACT,IAAMC,EAAUC,cAEhBC,qBAAU,WACN,IACI,IAAQC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQ,gBAA1CJ,MAERK,IAAMC,KATU,wCASgB,CAAEN,UAASO,MAAK,SAAAC,GACvCA,EAAIC,KAAKC,QACVb,EAAQc,KAAKC,QAClBC,OAAM,kBAAMhB,EAAQc,KAAKC,QAC9B,MAAOE,GAAOjB,EAAQc,KAAKC,QAE9B,CAACf,IAOJ,OACI,qBAAKkB,UAAU,OAAf,SACI,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,qBAAqBC,IAAKC,IAAOC,IAAI,KACpD,sBAAKH,UAAU,gBAAf,UACI,kDACA,8DAAgC,uBAAhC,0BACA,cAAC,IAAD,CAAQI,QAAS,kBAX7BhB,aAAaiB,WAAW,oBACxBvB,EAAQc,KAAKC,MAUD,uBAEJ,qBAAKG,UAAU,sBAAsBC,IAAKC,IAAOC,IAAI","file":"static/js/9.30ce6eb1.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./Home.css\";\r\n// constants\r\nimport { LOGIN } from \"../../constants/routes\";\r\nimport { HAPPY } from \"../../constants/images\";\r\n// material-ui\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst TOKEN_AUTH_ENDPOINT = \"https://task5-sac.herokuapp.com/token\";\r\n\r\nconst Home = () => {\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        try {\r\n            const { token } = JSON.parse(localStorage.getItem(\"task5_token\"));\r\n\r\n            axios.post(TOKEN_AUTH_ENDPOINT, { token }).then(res => {\r\n                if (!res.data.userId)\r\n                    history.push(LOGIN);\r\n            }).catch(() => history.push(LOGIN));\r\n        } catch (err) { history.push(LOGIN); };\r\n\r\n    }, [history]);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem(\"task5_token\");\r\n        history.push(LOGIN);\r\n    };\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__box\">\r\n                <img className=\"home__happyGifLeft\" src={HAPPY} alt=\"\" />\r\n                <div className=\"home__options\">\r\n                    <h1>Congratulations!</h1>\r\n                    <h2>You have successfully logged<br />into your account...</h2>\r\n                    <Button onClick={() => handleLogout()}>Logout</Button>\r\n                </div>\r\n                <img className=\"home__happyGifRight\" src={HAPPY} alt=\"\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}