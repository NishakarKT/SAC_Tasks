(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{114:function(t,e,a){},245:function(t,e,a){"use strict";a.r(e);var n=a(61),c=a(0),s=a(1),r=a(15),o=a(92),u=a.n(o),i=(a(114),a(9)),l=a(17),j=a(64),b=a(252),p=a(254),h=a(68),O=a.n(h),f=a(3);e.default=function(){var t=Object(s.f)(),e=Object(c.useState)(""),a=Object(n.a)(e,2),o=a[0],h=a[1],d=Object(c.useState)(""),k=Object(n.a)(d,2),x=k[0],m=k[1],g=Object(c.useState)(!1),v=Object(n.a)(g,2),S=v[0],N=v[1],_=Object(c.useState)(!1),w=Object(n.a)(_,2),I=w[0],y=w[1],E=Object(c.useState)(!1),C=Object(n.a)(E,2),J=C[0],T=C[1];Object(c.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("task5_token")).token;O.a.post("https://task5-sac.herokuapp.com/token",{token:e}).then((function(e){e.data.userId&&t.push(i.a)})).catch((function(){}))}catch(a){}}),[t]);return Object(f.jsxs)("div",{className:"login",children:[S?Object(f.jsx)(l.a,{}):null,Object(f.jsxs)("form",{className:"login__box",onSubmit:function(e){return function(e){if(e.preventDefault(),y(!u.a.isEmail(o)),T(!x),u.a.isEmail(o)&&x){N(!0);var a={email:o,password:x};O.a.post("https://task5-sac.herokuapp.com/auth",a).then((function(e){e.data.auth?(localStorage.setItem("task5_token",JSON.stringify({token:e.data.token})),t.push(i.a)):(alert("User access : DENIED !"),N(!1))})).catch((function(){N(!1)})),m(""),e.target.reset()}}(e)},children:[Object(f.jsx)("p",{className:"login__title",children:"Login"}),Object(f.jsx)(b.a,{label:"Email",error:I,helperText:I?"What's your valid email ?":null,onChange:function(t){return h(t.target.value)}}),Object(f.jsx)(j.a,{label:"Password",error:J,helperText:"What's your password ?",input:x,setInput:m}),Object(f.jsx)(p.a,{type:"submit",children:"Login"}),Object(f.jsx)(r.b,{className:"login__signupLink",to:i.c,children:"New Account"})]})]})}},64:function(t,e,a){"use strict";var n=a(61),c=a(0),s=(a(65),a(252)),r=a(82),o=a.n(r),u=a(83),i=a.n(u),l=a(3);e.a=function(t){var e=t.label,a=t.error,r=t.helperText,u=t.input,j=t.setInput,b=Object(c.useState)(!1),p=Object(n.a)(b,2),h=p[0],O=p[1];return Object(l.jsxs)("div",{className:"secureInput",children:[Object(l.jsx)(s.a,{value:u,label:e,type:h?"text":"password",error:a,helperText:a?r:"",onChange:function(t){return j(t.target.value)}}),h?Object(l.jsx)(o.a,{onClick:function(){return O(!h)}}):Object(l.jsx)(i.a,{onClick:function(){return O(!h)}})]})}},65:function(t,e,a){}}]);
//# sourceMappingURL=7.4ae6d980.chunk.js.map